<!--
  Hepsini Göster Default olan, arkası diğerleri seçili olmadığı sürece renkli.
  Herhangi bir element seçildiğinde diğerlerinin sadece opacity azalacak outboarding fln yok.
   


-->
<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <title>İnteraktif Periyodik Tablo</title>
</head>

<body>
  <nav>
    &nbsp;
    <b>İnteraktif Periyodik Tablo</b>
    <button id="shareButton"><i class="fa fa-share-alt" style="color: #1CB050;"></i></button>
    <button id="qrcodeButton" onclick="qrAlert()"><i class="fa fa-qrcode" style="color: #5C5C5C;"></i></button>
    <button id="playButton"><i class="fa fa-play" style="color: #D80C2E;"></i></button>
    <button id="copyButton" onclick="copyAlert()"><i class='fa fa-copy' style="color: #6434EC;"></i></button>
    &nbsp;&nbsp;
  </nav>

  <div id="periodictable">
  </div>

  <footer>
    <div id="classess">
      &nbsp;
      <button id="HepsiniGoster">
        Hepsini Göster
      </button>
      <button id="AlkaliMetaller">
        <div class="point"></div>Alkali Metaller
      </button>
      <button id="ToprakAlkaliMetaller">
        <div class="point"></div>Toprak Alkali Metaller
      </button>
      <button id="GecisMetalleri">
        <div class="point"></div>Geçiş Metalleri
      </button>
      <button id="Ametaller">
        <div class="point"></div>Ametaller
      </button>
      <button id="DigerMetaller">
        <div class="point"></div>Diğer Metaller
      </button>
      <button id="YariMetaller">
        <div class="point"></div>Yarı Metaller
      </button>
      <button id="Halojenler">
        <div class="point"></div>Halojenler
      </button>
      <button id="SoyGazlar">
        <div class="point"></div>Soy Gazlar
      </button>
      <button id="Lantanitler">
        <div class="point"></div>Lantanitler
      </button>
      <button id="Aktinitler">
        <div class="point"></div>Aktinitler
      </button>
      <button id="BilinmeyenKimyasalOzellikler">
        <div class="point"></div>Bilinmeyen Kimyasal Özellikler
      </button>
      &nbsp; &nbsp;
    </div>
  </footer>

  <script>
    var shareButton = document.getElementById("shareButton");
    shareButton.addEventListener('click', event => {
      if (navigator.share) {
        navigator.share({
          title: 'İnteraktif Periyodik Tablo',
          url: window.location.href
        }).then(() => {
          console.log('Thanks for sharing!');
        })
          .catch(console.error);
      } else {
        shareDialog.classList.add('is-open');
      }
    });

    function qrAlert() {
      try {
        let template = document.createElement('template');
        template.innerHTML = `<div id="hello" style="display: flex;justify-content: center;align-items: center;padding: 0 0 50px 0;"></div>`;

        swal({
          title: "QR Oluşturuldu",
          content: document.importNode(template.content, true).querySelector('div'),
          button: false
        })

        var qrcode = new QRCode(document.getElementById("hello"), {
          text: window.location.href,
          width: 128 * 2,
          height: 128 * 2,
          colorDark: "#5868bf",
          colorLight: "#ffffff",
          correctLevel: QRCode.CorrectLevel.L
        });

      } catch (err) {
        swal({
          title: "QR Oluşturma Başarısız...",
          text: ":/",
          icon: "error",
          button: "Tamam",
        });
      }
    }

    function copyAlert() {
      navigator.clipboard.writeText(window.location.href).then(() => {
        swal({
          title: "URL Panoya Kopyalandı!",
          text: window.location.href,
          icon: "success",
          button: "Tamam"
        })
      })
        .catch(() => {
          swal({
            title: "Bir Şeyler Ters Gitti...",
            text: ":/",
            icon: "error",
            button: "Tamam",
          })
        });
    }



    const xmlhttp = new XMLHttpRequest();
    xmlhttp.onload = function () {
      myObj = JSON.parse(this.responseText);
      var css = "";
      for (let index = 0; index < myObj.order.length; index++) {
        if (index == 1) {
          for (let i = 0; i < 16; i++) {
            var btn = document.createElement("BUTTON");
            btn.innerHTML = "";
            btn.style.backgroundColor = "transparent";
            btn.style.border = "transparent";
            btn.className = "btn";
            document.getElementById("periodictable").appendChild(btn);
          }
        }
        if (index == 4) {
          for (let i = 0; i < 10; i++) {
            var btn = document.createElement("BUTTON");
            btn.innerHTML = "";
            btn.style.backgroundColor = "transparent";
            btn.style.border = "transparent";
            btn.className = "btn";
            document.getElementById("periodictable").appendChild(btn);
          }
        }
        if (index == 12) {
          for (let i = 0; i < 10; i++) {
            var btn = document.createElement("BUTTON");
            btn.innerHTML = "";
            btn.style.backgroundColor = "transparent";
            btn.style.border = "transparent";
            btn.className = "btn";
            document.getElementById("periodictable").appendChild(btn);
          }
        }
        if (index == myObj["lantan"]["number"] || index == myObj["aktinyum"]["number"]) {
          index += 14;
        }

        var btn = document.createElement("BUTTON");
        btn.innerHTML = `<div style="font-weight:bold;justify-self: start;font-size:1.75vh;margin: 0.3vh 0 0 0.5vh;">` + myObj[myObj.order[index]]["number"] + `</div>` + `<div style="font-size:3vh;font-weight:bold;">` + myObj[myObj.order[index]]["symbol"] + `</div>` + `<div style="font-size:1.25vh;font-weight:bold;">` + myObj[myObj.order[index]]["name"] + `</div>`;
        btn.style.display = "grid";
        btn.style.gridTemplateRows = "3";
        btn.className = "btn";
        btn.id = `btn` + myObj[myObj.order[index]]["number"];

        if (myObj[myObj.order[index]]["category"] == "Ametaller") {
          btn.style.backgroundColor = "#E5F0FF";
          btn.style.color = "#0060F0";
        }
        else if (myObj[myObj.order[index]]["category"] == "Soy Gazlar") {
          btn.style.backgroundColor = "#FFEBEE";
          btn.style.color = "#D02B68";
        }
        else if (myObj[myObj.order[index]]["category"] == "Alkali Metaller") {
          btn.style.backgroundColor = "#DBF8FF";
          btn.style.color = "#228A9E";
        }
        else if (myObj[myObj.order[index]]["category"] == "Toprak Alkali Metaller") {
          btn.style.backgroundColor = "#FFEBEB";
          btn.style.color = "#DF334F";
        }
        else if (myObj[myObj.order[index]]["category"] == "Yarı Metaller") {
          btn.style.backgroundColor = "#FEF9E6";
          btn.style.color = "#945700";
        }
        else if (myObj[myObj.order[index]]["category"] == "Halojenler") {
          btn.style.backgroundColor = "#EBE0CE";
          btn.style.color = "#89644A";
        }
        else if (myObj[myObj.order[index]]["category"] == "Diğer Metaller") {
          btn.style.backgroundColor = "#DCFAEB";
          btn.style.color = "#002C00";
        }
        else if (myObj[myObj.order[index]]["category"] == "Geçiş Metalleri") {
          btn.style.backgroundColor = "#F5ECFD";
          btn.style.color = "#6232EC";
        }
        else if (myObj[myObj.order[index]]["category"] == "Lantanitler") {
          btn.style.backgroundColor = "#E5F5FF";
          btn.style.color = "#7596AC";
        }
        else if (myObj[myObj.order[index]]["category"] == "Aktinitler") {
          btn.style.backgroundColor = "#FFEADB";
          btn.style.color = "#D3582E";
        }
        else if (myObj[myObj.order[index]]["category"] == "Bilinmeyen Kimyasal Özellikler") {
          btn.style.backgroundColor = "#CECECE";
          btn.style.color = "#333333";
        }
        else {
          btn.style.backgroundColor = "#CECECE";
          btn.style.color = "#333333";
          /*
          Bunun aslında şöyle olması gerekiyormuş gibi geliyor bana ama hadi bakalım:
          btn.style.backgroundColor = "transparent";
          btn.style.color = "transparent";
          */
        }


        css += `#btn` + (index+1) + `:hover{ outline: 0.3vw solid ` + btn.style.color + `; }`;




        var style = document.createElement('style');
        if (style.styleSheet) {
          style.styleSheet.cssText = css;
        } else {
          style.appendChild(document.createTextNode(css));
        }
        document.getElementsByTagName('head')[0].appendChild(style);

        document.getElementById("periodictable").appendChild(btn);
      }

    }
    xmlhttp.open("GET", "./chemicalElements.json");
    xmlhttp.send();


  </script>
</body>

</html>